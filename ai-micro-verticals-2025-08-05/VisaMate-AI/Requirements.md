---
title: VisaMate AI — 需求规格说明（Requirements）
date: 2025-08-05
author: 独立开发者
version: v1.0.0
---

## 总体目标与范围

- 在 30 分钟内为个人用户生成符合目标国家签证要求的材料包，并提供自动合规校验与导出。
- 支持 10+ 国家起步（申根/英国/日本/韩国/美国 B1/B2/加拿大/澳大利亚/新西兰/新加坡）。
- 同步提供 Microsoft Word 插件，服务律师/文案用户在文档内完成生成与校验。

## 用户旅程与页面

| 步骤 | 入口 | 行为 | 产出 |
|---|---|---|---|
| 选择签别 | 落地页 | 选择国家与签别 | 初始化要求清单 |
| 填写资料 | 向导页 | 录入个人/行程/资产信息 | 可复用草稿 |
| 预览生成 | 预览页 | 生成材料草稿 + 校验分数 | 显示缺失项与修复建议 |
| 支付 | 支付页 | Stripe/Paddle 完成支付 | 解锁导出与二次生成 |
| 导出提交 | 导出页 | 导出 DOCX/PDF/Notion | 文件与提交 checklist |

## 功能需求（FRD）

- [ ] 国家/签别配置与规则库（字段、格式、照片规格）
- [ ] 文案生成（行程单/邀请函/Cover Letter/资产说明）多语言与语气可选
- [ ] 合规校验与评分（缺失字段、格式、长度、照片像素比）
- [ ] 导出：DOCX、PDF、Notion 同步（保持样式与占位符）
- [ ] 模板变量编辑与锁定（防回归）
- [ ] 草稿自动保存与版本比对
- [ ] 支付/退款/发票邮件
- [ ] 反馈收集与评分
- [ ] Word 插件：选区抽取→段落生成→一键插入→逐条校验

## 非功能需求（NFR）

- 性能：单份材料 ≤ 30 秒；批量 10 份 ≤ 2 分钟。
- 可用性：移动端可用，断点续写；重要操作可撤销。
- 安全：PII 字段 AES-256 加密，密钥托管于环境保密库；传输全程 HTTPS。
- 合规：隐私政策、数据删除权；日志脱敏。

## 数据模型（概要）

| 实体 | 关键字段 | 说明 |
|---|---|---|
| User | id,email,locale,plan | 账户与订阅 |
| VisaCase | id,userId,country,visaType,status | 单次签证材料会话 |
| Template | id,country,docType,locale,version | 文档模板与提示词版本 |
| GenerationJob | id,caseId,status,tokens,latency | 生成任务与性能记录 |
| ComplianceReport | id,caseId,score,issues | 校验结果 |
| Payment | id,userId,provider,amount,currency,status | 支付流水 |

## 外部集成

| 集成 | 方式 | 审核周期 | 分成 |
|---|---|---|---|
| Office Add-in（Word） | Office JavaScript API + 清单部署 | 3–5 天 | 0% |
| Stripe | Checkout + Billing Portal | 即时 | - |
| Paddle | SDK + Webhook | 1–2 天 | - |
| Notion | OAuth 公共集成，Pages/Databases API | 无需审核 | 0% |

## 验收标准

| 项目 | 标准 |
|---|---|
| 生成正确性 | 人工抽检 50 份，合规率 ≥ 85% |
| 性能 | 单份 ≤ 30 秒；P95 ≤ 45 秒 |
| 稳定性 | 24 小时错误率 ≤ 1% |
| 支付 | 成功率 ≥ 95%，退款流程可用 |
| 导出 | DOCX/PDF 样式一致性 ≥ 95% |

## 监控与告警

- 事件埋点：生成开始/结束、失败、支付、退款、导出。
- 告警：P95 超阈值、失败率超阈值、余额不足（API）。

## 安全与隐私

- 访问控制：按用户隔离数据；敏感文件临时 URL 24 小时失效。
- 数据保留：默认 30 天自动清理；用户可一键删除。

## 开发里程碑（30 天）

- [ ] 规则库与模板（D1–D7）
- [ ] 生成与校验引擎（D4–D10）
- [ ] 支付与导出（D8–D14）
- [ ] Word 插件 MVP（D12–D18）
- [ ] 本地化与 SEO（D15–D22）
- [ ] 监控与优化（D20–D30）

